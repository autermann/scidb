<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. --><!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "docbookV4.5/docbookx.dtd" []>
<chapter>
  <title>SciDB Aggregate Reference</title>
  <para>This chapter lists SciDB aggregates. Aggregates take as input a set of 1 or more values and return a scalar value. SciDB aggregates have the syntax aggregate_call_N where an aggregate call is one of the following:<itemizedlist>
      <listitem>
        <para><code>aggregate_name(attribute_name)</code></para>
      </listitem>
      <listitem>
        <para><code>aggregate_name(expression)</code></para>
        <para>Note: the <code>aggregate_name(expression)</code> syntax exists only in AQL.</para>
      </listitem>
    </itemizedlist></para>
  <para>Aggregate calls can occur in AQL and AFL statements as follows:</para>
  <para><emphasis role="bold">AQL syntaxes</emphasis><synopsis><command>SELECT</command> <replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional> 
<command>FROM</command> <replaceable>array</replaceable>;

<command>SELECT</command> <replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional> 
<command>FROM</command> <replaceable>array</replaceable> <command>GROUP BY</command> <replaceable>dimension1</replaceable><optional>,<replaceable>dimension2</replaceable></optional>;

<command>SELECT</command> <replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional> 
<command>FROM</command> <replaceable>array</replaceable> <command>WHERE</command> <replaceable>expression</replaceable>;

<command>SELECT</command> <replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional> 
<command>FROM</command> <replaceable>array</replaceable> <command>REGRID</command> <replaceable>dimension_1</replaceable>, <replaceable>dimension_2</replaceable>,...

<command>SELECT</command> <replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional> 
<command>FROM</command> <replaceable>array</replaceable> <command>WINDOW</command> <replaceable>window_dim_1</replaceable>, <replaceable>window_dim_2</replaceable>,...</synopsis></para>
  <para><emphasis role="bold">AFL syntaxes</emphasis><synopsis>aggregate(<replaceable>array</replaceable>, <replaceable>aggregate_call_1</replaceable>
<optional>, <replaceable>aggregate_call_2</replaceable>,... <replaceable>aggregate_call_N</replaceable></optional>
<optional>,<replaceable>dimension_1</replaceable>, <replaceable>dimension_2</replaceable>,...</optional>)

window(<replaceable>array</replaceable>,<replaceable>grid_1</replaceable>,<replaceable>grid_2</replaceable>,...,<replaceable>grid_N</replaceable>,
<replaceable>aggregate_call_1</replaceable> <optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional>);

regrid(<replaceable>array</replaceable>,<replaceable>grid_1</replaceable>,<replaceable>grid_2</replaceable>,...,<replaceable>grid_N</replaceable>,
<replaceable>aggregate_call_1</replaceable><optional>,<replaceable>aggregate_call_2</replaceable>,...,<replaceable>aggregate_call_N</replaceable></optional>);</synopsis></para>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="avg_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="count_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="max_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="min_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="stdev_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="sum_agg.xml" encoding="UTF-8"/>
  <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="var_agg.xml" encoding="UTF-8"/>
</chapter>
