
--test
--start-query-logging

--set-format dcsv
--start-igdata
create array A <val:double> [i=0:3,4,0, j=0:3,4,0]  
store(build(A,'[[(0),(),(),()],[(4),(),(6),(7)],[(8),(),(),()],[(),(13),(14),()]]',true),A)  
create array C <label:string NULL default NULL>[i=0:3,4,0, j=0:3,4,0]  
store(build(C,NULL),C)  
create array m4x4_empty<val:double, label:string NULL>[i=0:3,4,0, j=0:3,4,0]  
store(join(A,C),m4x4_empty)  
--stop-igdata
--aql  SELECT * FROM sort(m4x4_empty, val)  
--aql  SELECT * FROM sort(m4x4_empty, label)  
--aql  SELECT * FROM sort(m4x4_empty, val desc)  
--start-igdata
CREATE ARRAY m4x4_double < val:double >[i=0:3,4,0,j=0:3,4,0]  
load(m4x4_double, '../tests/harness/testcases/data/doc/m4x4_double.scidb')  
--stop-igdata
show(m4x4_double)
--set-format auto
scan(m4x4_double)  
--aql SELECT * FROM rank(m4x4_double,val,j)  
--aql  SELECT floor(val) INTO m4x4_floor FROM m4x4_double  
--aql  SELECT * FROM rank(m4x4_floor,expr,j)  
--aql  SELECT * FROM avg_rank(m4x4_floor,expr,j)  
--set-format dcsv
show(m4x4_floor)
--set-format auto
scan(m4x4_floor)  
--set-format dcsv
--aql  SELECT * FROM quantile(m4x4_floor,2)  
--aql  SELECT * FROM quantile(m4x4_floor,8)  

--stop-query-logging


--cleanup

remove(A)
remove(C)
remove(m4x4_empty)
remove(m4x4_double)
remove(m4x4_floor)
